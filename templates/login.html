{% extends "base.html" %}

{% block title %}Login - AI Attendance System{% endblock %}

{% block layout_wrapper %}
{% block content %}
<div class="container-fluid p-0" style="height: 100vh; overflow: hidden;">
    <div class="row g-0 h-100">
        <!-- Left Side: Academic Imagery & Branding -->
        <div class="col-lg-6 d-none d-lg-flex flex-column justify-content-center align-items-center text-white position-relative"
            style="background: linear-gradient(135deg, rgba(15, 23, 42, 0.95) 0%, rgba(15, 23, 42, 0.98) 100%), url('{{ url_for('static', filename='images/campus_bg.jpg') }}'); background-size: cover; background-position: center;">

            <!-- Decorative Overlay Pattern (CSS only) -->
            <div
                style="position: absolute; top: 0; left: 0; right: 0; bottom: 0; background-image: radial-gradient(circle at 2px 2px, rgba(255,255,255,0.05) 1px, transparent 0); background-size: 30px 30px; pointer-events: none;">
            </div>

            <div class="position-relative z-index-1 text-center px-5">
                <img src="{{ url_for('static', filename='images/yzu.png') }}" alt="YZU Logo" height="120"
                    class="mb-4 drop-shadow">
                <h1 class="display-4 fw-bold mb-3" style="font-family: var(--font-main); color: #fff;">AI Attendance
                    System</h1>
                <p class="lead mb-4" style="font-weight: 300; opacity: 0.9;">Excellence in Academic Management</p>
                <hr class="w-25 mx-auto bg-white opacity-50 mb-4">
                <p class="small text-white-50 fst-italic">"Empowering education through intelligent technology."</p>
            </div>

            <div class="position-absolute bottom-0 w-100 text-center pb-4 text-white-50 small">
                &copy; {{ now.year if now else 2025 }} AI Attendance System. All rights reserved.
            </div>
        </div>

        <!-- Right Side: Login Form -->
        <div class="col-lg-6 d-flex flex-column justify-content-center align-items-center bg-white">
            <div class="w-100 p-5" style="max-width: 500px;">
                <!-- Mobile Logo (Visible only on small screens) -->
                <div class="text-center d-lg-none mb-4">
                    <img src="{{ url_for('static', filename='images/yzu.png') }}" alt="YZU Logo" height="80">
                    <h3 class="mt-3 text-primary fw-bold">AI Attendance</h3>
                </div>

                <div class="mb-5">
                    <h2 class="fw-bold text-primary mb-1">Welcome!</h2>
                    <p class="text-muted">Please sign in to access your portal.</p>
                </div>

                {% if error %}
                <div class="alert alert-danger border-0 shadow-sm mb-4 d-flex align-items-center" role="alert">
                    <i class="fas fa-exclamation-circle me-2 fs-5"></i>
                    <div>{{ error }}</div>
                </div>
                {% endif %}

                <form method="POST" class="user-form">
                    <div class="mb-4">
                        <label for="email" class="form-label text-uppercase small letter-spacing-1">Email
                            Address</label>
                        <div class="input-group">
                            <span class="input-group-text bg-transparent border-end-0 ps-3"><i
                                    class="fas fa-envelope text-muted"></i></span>
                            <input type="email" class="form-control border-start-0 ps-0" id="email" name="username"
                                placeholder="name@school.edu" required style="height: 50px;">
                        </div>
                    </div>

                    <div class="mb-4">
                        <label for="password" class="form-label text-uppercase small letter-spacing-1">Password</label>
                        <div class="input-group">
                            <span class="input-group-text bg-transparent border-end-0 ps-3"><i
                                    class="fas fa-lock text-muted"></i></span>
                            <input type="password" class="form-control border-start-0 ps-0" id="password"
                                name="password" placeholder="Enter your password" required style="height: 50px;">
                        </div>
                    </div>

                    <div class="d-flex justify-content-between align-items-center mb-4">
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" id="rememberMe">
                            <label class="form-check-label small text-muted" for="rememberMe">Remember me</label>
                        </div>
                        <a href="#" class="small text-primary text-decoration-none fw-bold">Forgot Password?</a>
                    </div>

                    <div class="d-grid mb-4">
                        <button type="submit" class="btn btn-primary btn-lg py-3 shadow-sm">
                            Sign In <i class="fas fa-arrow-right ms-2 small"></i>
                        </button>
                    </div>
                </form>

                <div class="text-center mt-5">
                    <p class="small text-muted mb-0">
                        Need help? <a href="#" class="text-primary text-decoration-none fw-bold">Contact Support</a>
                    </p>
                </div>
            </div>
        </div>
    </div>
</div>


<style>
    /* Custom overrides for login page */
    body {
        background-color: #fff;
        /* Override base bg */
    }

    .input-group-text {
        border-color: var(--border-color);
    }

    .form-control {
        border-color: var(--border-color);
        background-color: #fff;
    }

    .form-control:focus {
        border-color: var(--primary-color);
        box-shadow: none;
        background-color: #fff;
    }

    .input-group:focus-within .input-group-text {
        border-color: var(--primary-color);
    }

    .letter-spacing-1 {
        letter-spacing: 1px;
    }

    .drop-shadow {
        filter: drop-shadow(0 4px 6px rgba(0, 0, 0, 0.3));
    }
</style>
{% endblock %}
{% endblock %}